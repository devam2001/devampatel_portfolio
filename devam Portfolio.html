<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
  <title>Devamkumar Patel — Portfolio</title>

  <!-- System font stack for robustness + Inter for branding -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet" />

  <!-- Tailwind (CDN) for resilient layout utilities -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* ---------- Design tokens ---------- */
    :root{
      --brand1:#0ea5e9; /* sky-500 */
      --brand2:#6366f1; /* indigo-500 */
      --ink:#0f172a;    /* slate-900 */
      --muted:#475569;  /* slate-600 */
      --paper:#f8fafc;  /* slate-50 */
      --nav-h: 64px;    /* base nav height on mobile */
      --safe-top: env(safe-area-inset-top, 0px);
      --radius: 18px;
    }
    @media (min-width: 640px){ :root{ --nav-h: 72px; } }

    *{ box-sizing:border-box; }
    html,body{ margin:0; padding:0; background:var(--paper); color:var(--ink); font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol", sans-serif; }
    /* Use dvh to avoid mobile URL bars collapse issues */
    .min-h-screen-dvh{ min-height: 100dvh; }

    /* Sections offset so anchors don't hide under fixed nav */
    section{ scroll-margin-top: calc(var(--nav-h) + var(--safe-top) + 14px); }

    /* ---------- iOS glass navbar (mobile‑first) ---------- */
    .nav-ios{
      position:fixed; inset:0 0 auto 0; z-index:50;
      height: calc(var(--nav-h) + var(--safe-top));
      padding-top: var(--safe-top);
      background: rgba(255,255,255,.58);
      -webkit-backdrop-filter: saturate(180%) blur(18px);
      backdrop-filter: saturate(180%) blur(18px);
      border-bottom: 1px solid rgba(60,60,67,.18);
      box-shadow: 0 10px 24px rgba(2,6,23,.08);
      transition: background .25s ease, border-color .25s ease, box-shadow .25s ease;
    }
    .nav-ios.-scrolled{
      background: rgba(255,255,255,.84);
      border-bottom-color: rgba(60,60,67,.28);
      box-shadow: 0 14px 30px rgba(2,6,23,.12);
    }

    /* Nav container aligns content vertically */
    .nav-inner{ height: var(--nav-h); display:flex; align-items:center; justify-content:space-between; gap:12px; }

    /* Mobile drawer (slide in) */
    .drawer{
      position:fixed; inset:0; z-index:60;
      background: rgba(15,23,42,.65);
      -webkit-backdrop-filter: blur(8px); backdrop-filter: blur(8px);
      opacity:0; visibility:hidden; transition: opacity .22s ease, visibility .22s ease;
    }
    .drawer.-open{ opacity:1; visibility:visible; }
    .drawer-panel{
      position:absolute; top:0; right:0; height:100%; width:min(92vw, 420px);
      background: rgba(255,255,255,.92);
      -webkit-backdrop-filter: saturate(160%) blur(18px);
      backdrop-filter: saturate(160%) blur(18px);
      border-left: 1px solid rgba(60,60,67,.18);
      box-shadow: -16px 0 40px rgba(2,6,23,.24);
      transform: translateX(100%); transition: transform .28s ease;
      padding-top: calc(var(--safe-top) + 8px);
    }
    .drawer.-open .drawer-panel{ transform: translateX(0); }

    /* ---------- 3D / Tilt / Cards ---------- */
    .stack-3d{ perspective: 1200px; transform-style: preserve-3d; }
    .tilt{ transform-style: preserve-3d; transition: transform .16s ease; }
    .tilt-layer{ transform: translateZ(var(--z,0)); will-change: transform; }
    .glare{ position:absolute; inset:-1px; border-radius:inherit; pointer-events:none;
      background: radial-gradient(260px 160px at var(--gx,50%) var(--gy,50%), rgba(255,255,255,.42), transparent 60%);
      opacity:.0; transition:opacity .18s ease; }
    .tilt:hover .glare{ opacity:.8; }

    .card{
      position:relative; border-radius: var(--radius);
      background: linear-gradient(145deg,#ffffff,#eef2ff);
      box-shadow: 0 24px 60px rgba(2,6,23,.12), 0 8px 20px rgba(15,23,42,.08);
      overflow:hidden;
    }
    .card::after{ content:""; position:absolute; inset:0; pointer-events:none;
      background: linear-gradient( to bottom right, rgba(255,255,255,.35), transparent 40% );
      mix-blend-mode: screen; opacity:.6; }

    .chip{ border-radius:9999px; padding:.4rem .7rem; font-size:.77rem; font-weight:700; background:#eef2ff; color:#3730a3; }

    /* ---------- Buttons ---------- */
    .btn{ position:relative; display:inline-flex; align-items:center; justify-content:center; gap:.6rem;
      height: 48px; padding: 0 18px; border-radius: 9999px; font-weight:800; letter-spacing:.01em;
      transition: transform .16s ease, box-shadow .16s ease, background-color .16s ease, border-color .16s ease;
      border: 1px solid rgba(2,6,23,.06); box-shadow: 0 8px 18px rgba(2,6,23,.08);
      touch-action: manipulation; min-width: 44px; min-height: 44px;
    }
    .btn .arrow{ display:inline-flex; transform: translateX(0); transition: transform .16s ease; }
    .btn:active{ transform: translateY(0); box-shadow: 0 6px 12px rgba(2,6,23,.12); }
    .btn-primary{ color:white; background: linear-gradient(135deg, var(--brand1), var(--brand2));
      border-color: rgba(14,165,233,.28); box-shadow: 0 14px 32px rgba(99,102,241,.22); }
    .btn-primary:hover .arrow{ transform: translateX(3px); }
    .btn-ghost{ color: var(--ink); background: linear-gradient(180deg, #ffffff 0%, #f1f5f9 100%);
      border: 1px solid rgba(2,6,23,.10); box-shadow: inset 0 1px 0 rgba(255,255,255,.9), 0 8px 18px rgba(2,6,23,.06); }

    .magnet{ position:relative; display:inline-flex; align-items:center; justify-content:center; overflow:visible; }
    .magnet .magnet-bg{ position:absolute; inset:-2px; border-radius: 9999px; z-index:0;
      background: radial-gradient(220px 160px at var(--mx,50%) var(--my,50%), rgba(99,102,241,.14), transparent 60%);
      transition: opacity .16s ease; opacity:.9; filter: saturate(1.1); }
    .magnet > *{ position:relative; z-index:1; }

    /* ---------- Hero & Parallax ---------- */
    .hero-title{ font-weight:900; letter-spacing:.01em; line-height:.95;
      font-size: clamp(40px, 8vw, 88px);
      background: linear-gradient(135deg, #020617, #334155 30%, #0ea5e9 70%, #6366f1);
      -webkit-background-clip: text; background-clip: text; color: transparent; }
    .hero-sub{ color:var(--muted); font-size: clamp(16px, 2.7vw, 18px); }
    .parallax{ position:absolute; inset:0; pointer-events:none; overflow:hidden; }
    .layer{ position:absolute; will-change: transform; filter: drop-shadow(0 6px 24px rgba(2,6,23,.12)); opacity:.9; }
    .layer.blob{ filter: blur(10px) saturate(1.1); opacity:.5; }

    /* ---------- Horizontal project carousel ---------- */
    .hc-wrap{ position:relative; }
    .hcarousel{
      display:grid; grid-auto-flow:column; gap:18px; overflow-x:auto; overscroll-behavior-x: contain;
      scroll-snap-type:x mandatory; padding: 8px 8px 16px; scroll-behavior:smooth;
      -webkit-overflow-scrolling: touch; touch-action: pan-y;
      grid-auto-columns: min(86vw, 520px);
    }
    .hcarousel::-webkit-scrollbar{ height:8px; }
    .hcarousel::-webkit-scrollbar-thumb{ background:rgba(15,23,42,.18); border-radius:9999px; }
    .hcard{ scroll-snap-align:center; }
    .hcard .poster{ height: clamp(200px, 48dvh, 340px); border-radius: 16px; overflow:hidden; background: linear-gradient(135deg, #e0f2fe, #eef2ff); }

    .hc-arrow{
      position:absolute; top:50%; transform: translateY(-50%); width:48px; height:48px; border-radius:9999px;
      display:flex; align-items:center; justify-content:center; background: linear-gradient(180deg,#ffffff,#eef2ff);
      border:1px solid rgba(2,6,23,.12); box-shadow: 0 10px 24px rgba(2,6,23,.15); z-index:10;
      transition: transform .14s ease, box-shadow .14s ease, background-color .14s ease;
    }
    .hc-arrow:hover{ transform: translateY(-50%) translateY(-2px); box-shadow: 0 16px 36px rgba(2,6,23,.18); }
    .hc-arrow:active{ transform: translateY(-50%); }
    .hc-arrow.left{ left:-4px; } .hc-arrow.right{ right:-4px; }
    .hc-arrow svg{ stroke:#0f172a; opacity:.85; }

    /* Hide arrows on small screens (swipe UI) */
    @media (max-width: 640px){
      .hc-arrow{ display:none; }
      .hcarousel{ grid-auto-columns: 88%; gap:14px; }
    }

    /* ---------- Reveal on scroll ---------- */
    .reveal{ opacity:0; transform: translateY(18px); transition: opacity .6s cubic-bezier(.2,.65,.2,1), transform .6s cubic-bezier(.2,.65,.2,1); will-change: transform, opacity; }
    .reveal.-in{ opacity:1; transform: translateY(0); }

    /* ---------- Back to top ---------- */
    .btt{ position:fixed; right:16px; bottom:calc(18px + env(safe-area-inset-bottom, 0px)); width:52px; height:52px; border-radius:9999px;
      display:grid; place-items:center; background:linear-gradient(135deg,var(--brand1),var(--brand2)); color:white;
      box-shadow: 0 14px 36px rgba(99,102,241,.35); opacity:0; visibility:hidden; transform: translateY(10px);
      transition: all .22s ease; z-index:20; }
    .btt.-show{ opacity:1; visibility:visible; transform: translateY(0); }

    /* ---------- Canvas starfield behind hero ---------- */
    #bg-canvas{ position:fixed; inset:0; z-index:0; }
    .hero-wrap, nav, main, footer { position:relative; z-index:2; }

    /* Prefer reduced motion */
    @media (prefers-reduced-motion: reduce){
      .reveal{ opacity:1; transform:none; }
      .tilt{ transition:none; }
      .glare{ display:none; }
    }

    /* Utility to clamp widths on large screens for better readability */
    .container-lg{ max-width: 1120px; margin-left:auto; margin-right:auto; padding-left: 1rem; padding-right: 1rem; }
    @media (min-width: 1024px){ .container-lg{ padding-left: 2rem; padding-right: 2rem; } }
  </style>
</head>
<body>
  <!-- Background -->
  <canvas id="bg-canvas" aria-hidden="true"></canvas>

  <!-- iOS Glass Navigation -->
  <nav class="nav-ios" role="navigation" aria-label="Primary">
    <div class="container-lg nav-inner">
      <a href="#home" class="font-black tracking-tight text-lg sm:text-xl">Devamkumar Patel</a>

      <!-- Desktop menu -->
      <div class="hidden md:flex items-center gap-6 text-sm font-semibold">
        <a class="hover:text-sky-600" href="#about">About</a>
        <a class="hover:text-sky-600" href="#timeline">Career</a>
        <a class="hover:text-sky-600" href="#education">Education</a>
        <a class="hover:text-sky-600" href="#projects">Projects</a>
        <a class="hover:text-sky-600" href="#skills">Skills</a>
        <a class="hover:text-sky-600" href="#contact">Contact</a>
      </div>

      <!-- Mobile button -->
      <button id="menuBtn" class="md:hidden inline-flex items-center justify-center w-10 h-10 rounded-full border border-black/10" aria-label="Open menu">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-width="2" d="M4 7h16M4 12h16M4 17h16"/></svg>
      </button>
    </div>

    <!-- Drawer -->
    <div id="mobileDrawer" class="drawer" aria-hidden="true">
      <div class="drawer-panel">
        <div class="px-5 py-4 flex items-center justify-between">
          <div class="font-black text-lg">Menu</div>
          <button id="menuClose" class="w-10 h-10 grid place-items-center rounded-full border border-black/10" aria-label="Close menu">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
          </button>
        </div>
        <nav class="mt-2 px-5 grid gap-2 text-lg font-bold">
          <a href="#about" class="py-3">About</a>
          <a href="#timeline" class="py-3">Career</a>
          <a href="#education" class="py-3">Education</a>
          <a href="#projects" class="py-3">Projects</a>
          <a href="#skills" class="py-3">Skills</a>
          <a href="#contact" class="py-3">Contact</a>
        </nav>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <main id="home" class="min-h-screen-dvh grid items-center">
    <div class="relative">
      <!-- parallax visual -->
      <div class="parallax" aria-hidden="true">
        <svg class="layer blob" data-depth="0.02" width="480" height="480" style="left:-96px; top:96px" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <path fill="#a5b4fc" d="M49.6,-63.2C62.7,-55.9,69.7,-39,71.1,-23.1C72.6,-7.1,68.6,7.9,62,20.3C55.5,32.6,46.4,42.4,35.2,50.6C23.9,58.7,11.9,65.1,-1,66.6C-13.9,68.1,-27.8,64.7,-38.4,56.9C-49,49,-56.3,36.6,-61.2,23.1C-66.1,9.6,-68.6,-5,-63.8,-16.6C-59.1,-28.2,-47.1,-36.8,-35.1,-44.4C-23.1,-52,-11.6,-58.6,3.6,-63C18.8,-67.4,37.5,-69.5,49.6,-63.2Z" transform="translate(100 100)" />
        </svg>
        <svg class="layer" data-depth="0.06" width="160" height="160" style="left:72%; top:10%" viewBox="0 0 24 24" fill="none" stroke="#0ea5e9">
          <path stroke-width="1.5" d="M12 3v18M3 12h18"/>
        </svg>
        <svg class="layer" data-depth="0.1" width="220" height="70" style="left:60%; top:70%" viewBox="0 0 220 70">
          <defs>
            <linearGradient id="g1" x1="0" x2="1" y1="0" y2="0">
              <stop offset="0%" stop-color="#0ea5e9"/><stop offset="100%" stop-color="#6366f1"/>
            </linearGradient>
          </defs>
          <rect x="0" y="0" width="220" height="70" rx="14" fill="url(#g1)" opacity=".3"/>
        </svg>
      </div>

      <div class="container-lg grid lg:grid-cols-12 gap-8 items-center">
        <div class="lg:col-span-7 reveal">
          <h1 class="hero-title tilt">
            <span class="tilt-layer" style="--z: 50px">Devamkumar</span><br/>
            <span class="tilt-layer" style="--z: 110px">Patel</span>
            <span class="glare"></span>
          </h1>
          <p class="hero-sub mt-5 max-w-2xl">
            QA Engineer crafting resilient automation and test strategy. Focused on clean frameworks, fast feedback, and product-quality wins.
          </p>

          <div class="mt-8 flex flex-wrap gap-3">
            <span class="chip">Java</span>
            <span class="chip">Selenium</span>
            <span class="chip">API Testing</span>
            <span class="chip">TestNG</span>
            <span class="chip">Manual QA</span>
          </div>

          <div class="mt-8 flex flex-col sm:flex-row gap-4">
            <span class="magnet w-full sm:w-auto">
              <span class="magnet-bg"></span>
              <a href="#projects" data-scroll="#projects" class="btn btn-primary w-full sm:w-auto justify-center">See Projects
                <span class="arrow" aria-hidden="true">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-width="2" d="M5 12h14M13 5l7 7-7 7"/></svg>
                </span>
              </a>
            </span>
            <span class="magnet w-full sm:w-auto">
              <span class="magnet-bg"></span>
              <button id="resumeBtn" class="btn btn-ghost w-full sm:w-auto justify-center">Download Resume
                <span class="arrow" aria-hidden="true">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-width="2" d="M5 12h14M13 5l7 7-7 7"/></svg>
                </span>
              </button>
            </span>
          </div>
        </div>

        <div class="lg:col-span-5 reveal mt-8 lg:mt-0">
          <div class="tilt card p-6">
            <div class="relative overflow-hidden rounded-[14px] tilt-layer" style="--z: 40px">
              <div class="h-[44dvh] min-h-[200px] max-h-[320px] bg-gradient-to-br from-sky-100 to-indigo-100 grid place-items-center text-7xl font-black tracking-tight text-indigo-400 select-none">QA</div>
            </div>
            <div class="mt-6 grid grid-cols-3 gap-3">
              <div class="rounded-xl bg-white p-4 shadow-sm tilt-layer" style="--z:30px">
                <div class="text-2xl font-extrabold text-indigo-600">50+</div><div class="text-xs text-slate-500">Projects</div>
              </div>
              <div class="rounded-xl bg-white p-4 shadow-sm tilt-layer" style="--z:20px">
                <div class="text-2xl font-extrabold text-indigo-600">2</div><div class="text-xs text-slate-500">Years</div>
              </div>
              <div class="rounded-xl bg-white p-4 shadow-sm tilt-layer" style="--z:10px">
                <div class="text-2xl font-extrabold text-indigo-600">95%</div><div class="text-xs text-slate-500">Bug rate</div>
              </div>
            </div>
            <span class="glare"></span>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- About -->
  <section id="about" class="py-20">
    <div class="container-lg">
      <div class="grid md:grid-cols-2 gap-12 items-start">
        <div class="reveal">
          <h2 class="text-[clamp(26px,4.2vw,40px)] font-black">About Me</h2>
          <p class="mt-3 text-slate-600 max-w-prose">Detail‑obsessed QA Engineer with a bias for automation and measurable outcomes. I build maintainable test frameworks and collaborate tightly with product & engineering.</p>
          <div class="mt-7 space-y-4">
            <div class="tilt card p-6">
              <h3 class="font-semibold text-lg">Quality Strategy</h3>
              <p class="text-slate-600 mt-2">Shift‑left thinking, risk‑based planning, and the right mix of manual + automated tests to cover critical paths.</p>
              <span class="glare"></span>
            </div>
            <div class="tilt card p-6">
              <h3 class="font-semibold text-lg">Automation</h3>
              <p class="text-slate-600 mt-2">Selenium + Java + TestNG, modular page objects, data‑driven suites, and helpful reports.</p>
              <span class="glare"></span>
            </div>
          </div>
        </div>
        <div class="reveal stack-3d">
          <div class="tilt card overflow-hidden">
            <div class="relative p-7">
              <div class="tilt-layer" style="--z: 40px">
                <div class="grid grid-cols-2 gap-5">
                  <div class="rounded-xl bg-sky-50 p-5">
                    <div class="font-bold">Tooling</div>
                    <div class="text-slate-600 text-sm mt-1">Jira, Postman, GitHub Actions</div>
                  </div>
                  <div class="rounded-xl bg-indigo-50 p-5">
                    <div class="font-bold">Framework</div>
                    <div class="text-slate-600 text-sm mt-1">POM, Data‑driven, CI</div>
                  </div>
                  <div class="rounded-xl bg-sky-50 p-5">
                    <div class="font-bold">APIs</div>
                    <div class="text-slate-600 text-sm mt-1">REST test suites</div>
                  </div>
                  <div class="rounded-xl bg-indigo-50 p-5">
                    <div class="font-bold">Reporting</div>
                    <div class="text-slate-600 text-sm mt-1">Allure / Extent</div>
                  </div>
                </div>
              </div>
              <span class="glare"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Career -->
  <section id="timeline" class="py-20 bg-gradient-to-b from-white to-slate-50">
    <div class="container-lg">
      <div class="reveal">
        <h2 class="text-[clamp(26px,4.2vw,40px)] font-black">Career Journey</h2>
        <p class="text-slate-600 mt-2">A quick arc across roles & impact.</p>
      </div>

      <div class="mt-10 grid md:grid-cols-2 gap-8">
        <div class="reveal tilt card p-6">
          <div class="text-sm font-semibold text-sky-600">July 2025 — Present</div>
          <h3 class="mt-1 text-xl font-bold">QA Engineer · Ontic</h3>
          <p class="text-slate-600 mt-3">Led automation coverage for enterprise workflows; stabilized flaky suites and accelerated release confidence.</p>
          <span class="glare"></span>
        </div>
        <div class="reveal tilt card p-6">
          <div class="text-sm font-semibold text-indigo-600">Sep 2023 — Present</div>
          <h3 class="mt-1 text-xl font-bold">Associate QA Engineer · Antino</h3>
          <p class="text-slate-600 mt-3">Built regression packs, API verification, and CI integrations; mentored interns on test design.</p>
          <span class="glare"></span>
        </div>
      </div>
    </div>
  </section>

  <!-- Education -->
  <section id="education" class="py-20">
    <div class="container-lg">
      <div class="reveal">
        <h2 class="text-[clamp(26px,4.2vw,40px)] font-black">Education</h2>
        <p class="text-slate-600 mt-2">Focused academic training that feeds directly into practical QA work.</p>
      </div>

      <div class="mt-8 grid md:grid-cols-2 gap-8 items-stretch">
        <div class="reveal tilt card p-8">
          <div class="flex items-start gap-5">
            <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-sky-100 to-indigo-100 grid place-items-center flex-shrink-0 tilt-layer" style="--z: 30px">
              <svg class="w-7 h-7 text-indigo-600" viewBox="0 0 24 24" fill="currentColor"><path d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3z"/></svg>
            </div>
            <div class="tilt-layer" style="--z: 20px">
              <div class="text-sm font-semibold text-sky-600">2019 — 2023</div>
              <h3 class="text-xl font-bold mt-1">Bachelor of Technology</h3>
              <div class="mt-1 font-medium text-slate-700">Computer Science & Engineering</div>
              <div class="mt-1 text-slate-600">Lovely Professional University</div>
              <div class="mt-2 inline-flex gap-2 flex-wrap">
                <span class="chip">Software Engineering</span>
                <span class="chip">Software Testing</span>
                <span class="chip">Data Science</span>
                <span class="chip">DSA</span>
                <span class="chip">DBMS</span>
              </div>
            </div>
          </div>
          <span class="glare"></span>
        </div>

        <div class="reveal tilt card p-8">
          <h4 class="font-semibold text-lg">Highlights</h4>
          <ul class="mt-4 space-y-3 text-slate-600">
            <li>• Built test suites & utilities for coursework projects; emphasized maintainability.</li>
            <li>• Practiced API testing & automation patterns aligned with industry frameworks.</li>
            <li>• Team collaborations that mirrored real sprint workflows.</li>
          </ul>
          <span class="glare"></span>
        </div>
      </div>
    </div>
  </section>

  <!-- Projects -->
  <section id="projects" class="py-20">
    <div class="container-lg">
      <div class="reveal">
        <h2 class="text-[clamp(26px,4.2vw,40px)] font-black">Projects</h2>
      </div>

      <div class="hc-wrap mt-8 reveal" id="hcWrap">
        <button class="hc-arrow left" id="hcPrev" aria-label="Previous">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
        </button>

        <div class="hcarousel" id="hcarousel" tabindex="0" aria-roledescription="carousel" aria-label="Featured projects">
          <!-- Cards -->
          <article class="hcard tilt card p-6">
            <div class="poster tilt-layer grid place-items-center" style="--z: 40px">
              <div class="text-5xl font-black text-indigo-400 select-none">Quantum</div>
            </div>
            <div class="mt-4 flex items-center gap-2 flex-wrap">
              <span class="chip">Selenium</span><span class="chip">TestNG</span><span class="chip">Java</span>
            </div>
            <h3 class="text-lg font-bold mt-3">International SOS (Quantum – Ontic)</h3>
            <p class="text-slate-600 mt-2">Automated regression & data integrity for critical healthcare systems.</p>
            <span class="glare"></span>
          </article>

          <article class="hcard tilt card p-6">
            <div class="poster tilt-layer grid place-items-center" style="--z: 40px">
              <div class="text-5xl font-black text-sky-400 select-none">Competishun</div>
            </div>
            <div class="mt-4 flex items-center gap-2 flex-wrap">
              <span class="chip">Manual</span><span class="chip">Regression</span><span class="chip">LMS</span>
            </div>
            <h3 class="text-lg font-bold mt-3">Competishun (EdTech)</h3>
            <p class="text-slate-600 mt-2">Functional & regression testing for a learning platform.</p>
            <span class="glare"></span>
          </article>

          <article class="hcard tilt card p-6">
            <div class="poster tilt-layer grid place-items-center" style="--z: 40px">
              <div class="text-5xl font-black text-sky-500 select-none">LionCharge</div>
            </div>
            <div class="mt-4 flex items-center gap-2 flex-wrap">
              <span class="chip">Automation</span><span class="chip">API</span><span class="chip">EV</span>
            </div>
            <h3 class="text-lg font-bold mt-3">Lion Charge (EV Logistics)</h3>
            <p class="text-slate-600 mt-2">Automation testing for EV charging and logistics.</p>
            <span class="glare"></span>
          </article>

          <article class="hcard tilt card p-6">
            <div class="poster tilt-layer grid place-items-center" style="--z: 40px">
              <div class="text-5xl font-black text-indigo-400 select-none">GMR Meter</div>
            </div>
            <div class="mt-4 flex items-center gap-2 flex-wrap">
              <span class="chip">Integration</span><span class="chip">Reusable Scripts</span><span class="chip">IoT</span>
            </div>
            <h3 class="text-lg font-bold mt-3">GMR Smart Meter</h3>
            <p class="text-slate-600 mt-2">Reusable automation and integration validation.</p>
            <span class="glare"></span>
          </article>

          <article class="hcard tilt card p-6">
            <div class="poster tilt-layer grid place-items-center" style="--z: 40px">
              <div class="text-5xl font-black text-indigo-500 select-none">Speedbox</div>
            </div>
            <div class="mt-4 flex items-center gap-2 flex-wrap">
              <span class="chip">Automation</span><span class="chip">Coverage</span><span class="chip">Logistics</span>
            </div>
            <h3 class="text-lg font-bold mt-3">Speedbox (Logistics)</h3>
            <p class="text-slate-600 mt-2">Increased automation coverage and tracking accuracy.</p>
            <span class="glare"></span>
          </article>

          <article class="hcard tilt card p-6">
            <div class="poster tilt-layer grid place-items-center" style="--z: 40px">
              <div class="text-5xl font-black text-sky-500 select-none">IndiaLegal</div>
            </div>
            <div class="mt-4 flex items-center gap-2 flex-wrap">
              <span class="chip">Security</span><span class="chip">Compliance</span><span class="chip">Legal Tech</span>
            </div>
            <h3 class="text-lg font-bold mt-3">India Legal</h3>
            <p class="text-slate-600 mt-2">Compliance & data protection validation.</p>
            <span class="glare"></span>
          </article>
        </div>

        <button class="hc-arrow right" id="hcNext" aria-label="Next">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
        </button>
      </div>
    </div>
  </section>

  <!-- Skills -->
  <section id="skills" class="py-20 bg-gradient-to-b from-slate-50 to-white">
    <div class="container-lg">
      <div class="reveal">
        <h2 class="text-[clamp(26px,4.2vw,40px)] font-black">Skills & Technologies</h2>
        <p class="text-slate-600 mt-2">Strength in reliable automation and thoughtful test design.</p>
      </div>

      <div class="mt-10 grid md:grid-cols-2 gap-8">
        <div class="reveal tilt card p-7">
          <h3 class="font-bold text-lg">Technical Skills</h3>
          <div class="mt-5 space-y-5">
            <div>
              <div class="flex items-center justify-between text-sm font-semibold"><span>Selenium WebDriver</span><span>90%</span></div>
              <div class="w-full h-2 bg-slate-200 rounded-full overflow-hidden"><div class="h-2 bg-gradient-to-r from-sky-500 to-indigo-500 rounded-full" style="width:90%"></div></div>
            </div>
            <div>
              <div class="flex items-center justify-between text-sm font-semibold"><span>Core Java</span><span>85%</span></div>
              <div class="w-full h-2 bg-slate-200 rounded-full overflow-hidden"><div class="h-2 bg-gradient-to-r from-sky-500 to-indigo-500 rounded-full" style="width:85%"></div></div>
            </div>
            <div>
              <div class="flex items-center justify-between text-sm font-semibold"><span>API Testing</span><span>80%</span></div>
              <div class="w-full h-2 bg-slate-200 rounded-full overflow-hidden"><div class="h-2 bg-gradient-to-r from-sky-500 to-indigo-500 rounded-full" style="width:80%"></div></div>
            </div>
          </div>
          <span class="glare"></span>
        </div>

        <div class="reveal tilt card p-7">
          <h3 class="font-bold text-lg">Testing Expertise</h3>
          <div class="mt-5 space-y-5">
            <div class="flex items-center justify-between text-sm font-semibold"><span>Manual Testing</span><span>95%</span></div>
            <div class="w-full h-2 bg-slate-200 rounded-full overflow-hidden"><div class="h-2 bg-gradient-to-r from-sky-500 to-indigo-500 rounded-full" style="width:95%"></div></div>
            <div class="mt-5 flex items-center justify-between text-sm font-semibold"><span>Test Design</span><span>90%</span></div>
            <div class="w-full h-2 bg-slate-200 rounded-full overflow-hidden"><div class="h-2 bg-gradient-to-r from-sky-500 to-indigo-500 rounded-full" style="width:90%"></div></div>
            <div class="mt-5 flex items-center justify-between text-sm font-semibold"><span>Regression</span><span>92%</span></div>
            <div class="w-full h-2 bg-slate-200 rounded-full overflow-hidden"><div class="h-2 bg-gradient-to-r from-sky-500 to-indigo-500 rounded-full" style="width:92%"></div></div>
          </div>
          <span class="glare"></span>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="py-20">
    <div class="container-lg text-center">
      <div class="reveal">
        <h2 class="text-[clamp(26px,4.2vw,40px)] font-black">Let’s Connect</h2>
        <p class="text-slate-600 mt-2">Open to QA roles and freelance automation projects.</p>
      </div>
      <div class="mt-8 grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 justify-center">
        <span class="magnet">
          <span class="magnet-bg"></span>
          <button id="contactOpen" type="button" class="btn btn-primary w-full justify-center">Email Me
            <span class="arrow" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-width="2" d="M5 12h14M13 5l7 7-7 7"/></svg>
            </span>
          </button>
        </span>
        <span class="magnet">
          <span class="magnet-bg"></span>
          <a href="https://linkedin.com/in/devampatel2501" target="_blank" rel="noopener" class="btn btn-ghost w-full justify-center">LinkedIn
            <span class="arrow" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-width="2" d="M5 12h14M13 5l7 7-7 7"/></svg>
            </span>
          </a>
        </span>
        <span class="magnet">
          <span class="magnet-bg"></span>
          <button id="resumeBtn2" class="btn btn-ghost w-full justify-center">Download Resume
            <span class="arrow" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-width="2" d="M5 12h14M13 5l7 7-7 7"/></svg>
            </span>
          </button>
        </span>
      </div>
      <p class="text-slate-500 text-sm mt-8">© <span id="year"></span> Devamkumar Patel. All rights reserved.</p>
    </div>
  </section>

  <!-- Contact Modal -->
  <div id="contactModal" class="drawer" aria-hidden="true">
    <div class="drawer-panel" style="left:auto; right:0; width:min(720px,94vw);" role="dialog" aria-modal="true" aria-labelledby="contactTitle">
      <div class="px-5 py-4 flex items-center justify-between">
        <h3 id="contactTitle" class="text-xl font-black">Send a message</h3>
        <button class="w-10 h-10 grid place-items-center rounded-full border border-black/10" id="contactClose" aria-label="Close contact form">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>
      <div class="px-5 pb-6">
        <form id="contactForm" class="grid gap-4">
          <div class="grid sm:grid-cols-2 gap-4">
            <label class="grid gap-1">
              <span class="text-sm font-semibold text-slate-700">Full name</span>
              <input id="cName" name="name" type="text" autocomplete="name" required placeholder="Your name" class="w-full border border-slate-200 rounded-lg px-3 py-2.5" />
            </label>
            <label class="grid gap-1">
              <span class="text-sm font-semibold text-slate-700">Email</span>
              <input id="cEmail" name="email" type="email" autocomplete="email" required placeholder="you@example.com" class="w-full border border-slate-200 rounded-lg px-3 py-2.5" />
            </label>
          </div>
          <label class="grid gap-1">
            <span class="text-sm font-semibold text-slate-700">Subject</span>
            <input id="cSubject" name="subject" type="text" placeholder="Project, role, or question" class="w-full border border-slate-200 rounded-lg px-3 py-2.5" />
          </label>
          <label class="grid gap-1">
            <span class="text-sm font-semibold text-slate-700">Message</span>
            <textarea id="cMessage" name="message" required placeholder="Tell me a bit about your project or role…" class="w-full border border-slate-200 rounded-lg px-3 py-2.5 min-h-[140px] resize-vertical"></textarea>
          </label>
          <div class="flex items-center justify-between pt-2 gap-3">
            <button type="button" class="btn btn-ghost" id="contactCancel">Cancel</button>
            <button type="submit" class="btn btn-primary">Send</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Back to top -->
  <button id="btt" class="btt" aria-label="Back to top">
    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-width="2" d="M12 19V5m0 0l-7 7m7-7l7 7"/></svg>
  </button>

  <script>
    /* ---------- Helpers ---------- */
    const $ = (s, r=document)=>r.querySelector(s);
    const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));
    const clamp = (n,min,max)=>Math.max(min,Math.min(n,max));
    const lerp = (a,b,t)=>a+(b-a)*t;

    /* ---------- Nav behavior ---------- */
    const nav = document.querySelector('.nav-ios');
    const mobileDrawer = $('#mobileDrawer');
    const drawerPanel = mobileDrawer.querySelector('.drawer-panel');
    const menuBtn = $('#menuBtn'), menuClose = $('#menuClose');
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    const onScrollNav = ()=> nav.classList.toggle('-scrolled', (window.scrollY||0) > 12);
    window.addEventListener('scroll', onScrollNav, {passive:true}); onScrollNav();

    function openDrawer(){
      mobileDrawer.classList.add('-open');
      mobileDrawer.setAttribute('aria-hidden','false');
      document.body.style.overflow='hidden';
      setTimeout(()=> drawerPanel.querySelector('a,button')?.focus(), 50);
    }
    function closeDrawer(){
      mobileDrawer.classList.remove('-open');
      mobileDrawer.setAttribute('aria-hidden','true');
      document.body.style.overflow='';
      menuBtn?.focus();
    }
    menuBtn?.addEventListener('click', openDrawer);
    menuClose?.addEventListener('click', closeDrawer);
    mobileDrawer.addEventListener('click', (e)=>{ if(!drawerPanel.contains(e.target)) closeDrawer(); });

    /* ---------- Smooth Scrolling (offset‑aware) ---------- */
    let NAV_OFFSET = 0;
    function computeNavOffset(){
      NAV_OFFSET = Math.round(nav.getBoundingClientRect().height + 14); // safe‑top included
    }
    computeNavOffset();
    window.addEventListener('resize', computeNavOffset);
    if (window.visualViewport){ window.visualViewport.addEventListener('resize', computeNavOffset); }

    function easeInOutCubic(t){ return t < 0.5 ? 4*t*t*t : 1 - Math.pow(-2*t+2,3)/2; }
    function smoothScrollTo(targetEl, duration = 650){
      if(!targetEl) return;
      const startY = window.pageYOffset;
      const endY = Math.round(targetEl.getBoundingClientRect().top + startY - NAV_OFFSET);
      if (prefersReduced){ window.scrollTo(0, endY); return; }
      const diff = endY - startY; let start;
      function step(ts){ if(!start) start = ts; const t = Math.min(1, (ts - start) / duration);
        window.scrollTo(0, Math.round(startY + diff * easeInOutCubic(t))); if(t < 1) requestAnimationFrame(step); }
      requestAnimationFrame(step);
    }

    // Delegate clicks (desktop + mobile menu + CTA buttons with data-scroll)
    document.addEventListener('click', (e)=>{
      const link = e.target.closest('a[href^="#"]');
      const scroller = link || e.target.closest('[data-scroll]');
      if(!scroller) return;
      const hash = link ? link.getAttribute('href') : scroller.getAttribute('data-scroll');
      if(!hash || !hash.startsWith('#')) return;
      const target = document.getElementById(hash.slice(1));
      if(!target) return;
      e.preventDefault();
      smoothScrollTo(target);
      closeDrawer();
      history.pushState(null,'',hash);
    });

    /* ---------- Back to top ---------- */
    const btt = $('#btt');
    const onScrollBtt = ()=> btt.classList.toggle('-show', (window.scrollY||0) > 400);
    window.addEventListener('scroll', onScrollBtt, {passive:true});

    btt.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));

    /* ---------- Reveal on scroll ---------- */
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          e.target.classList.add('-in');
          io.unobserve(e.target);
        }
      });
    },{threshold:.14, rootMargin:'0px 0px -10% 0px'});
    $$('.reveal').forEach(el=>io.observe(el));

    /* ---------- Device/Pointer capability gates ---------- */
    const hasFinePointer = window.matchMedia('(pointer: fine)').matches;

    /* ---------- Tilt (only for fine pointers) ---------- */
    if(hasFinePointer){
      function tiltify(el, maxRot=10){
        const layers = $$('.tilt-layer', el);
        const glare = $('.glare', el);
        function move(e){
          const rect = el.getBoundingClientRect();
          const px = clamp((e.clientX - rect.left) / rect.width, 0, 1);
          const py = clamp((e.clientY - rect.top) / rect.height, 0, 1);
          const rx = (py - .5) * -2 * maxRot;
          const ry = (px - .5) *  2 * maxRot;
          el.style.transform = `perspective(1000px) rotateX(${rx}deg) rotateY(${ry}deg)`;
          layers.forEach((ly)=>{
            const z = parseFloat(getComputedStyle(ly).getPropertyValue('--z')) || 0;
            const tx = (px-.5) * (z/15);
            const ty = (py-.5) * (z/15) * -1;
            ly.style.transform = `translateZ(${z}px) translate(${tx}px, ${ty}px)`;
          });
          if(glare){ glare.style.setProperty('--gx', (px*100)+'%'); glare.style.setProperty('--gy', (py*100)+'%'); }
        }
        function leave(){
          el.style.transform = 'perspective(1000px) rotateX(0) rotateY(0)';
          layers.forEach(ly=> ly.style.transform = `translateZ(var(--z,0))`);
        }
        el.addEventListener('pointermove', move);
        el.addEventListener('pointerleave', leave);
      }
      $$('.tilt').forEach(tiltify);
    }

    /* ---------- Parallax hero layers (fine pointer only) ---------- */
    if(hasFinePointer){
      const parallaxRoot = document.querySelector('.parallax');
      function parallaxMove(e){
        const cx = window.innerWidth/2, cy = window.innerHeight/2;
        const dx = (e.clientX - cx)/cx, dy = (e.clientY - cy)/cy;
        $$('.layer', parallaxRoot).forEach(l=>{
          const depth = parseFloat(l.dataset.depth || '0.05');
          l.style.transform = `translate3d(${dx*depth*60}px, ${dy*depth*40}px, 0)`;
        });
      }
      window.addEventListener('pointermove', parallaxMove);
    }

    /* ---------- Magnetic buttons (coarse + fine, lightweight) ---------- */
    function magnetize(container, strength=22){
      const inner = container.querySelector('.btn, a, button');
      container.addEventListener('pointermove', (e)=>{
        const r = container.getBoundingClientRect();
        const x = e.clientX - (r.left + r.width/2);
        const y = e.clientY - (r.top + r.height/2);
        inner.style.transform = `translate(${x/strength}px, ${y/strength}px)`;
        container.style.setProperty('--mx', ((x/r.width+0.5)*100)+'%');
        container.style.setProperty('--my', ((y/r.height+0.5)*100)+'%');
      }, {passive:true});
      container.addEventListener('pointerleave', ()=>{ inner.style.transform = 'translate(0,0)'; }, {passive:true});
    }
    $$('.magnet').forEach(magnetize);

    /* ---------- Starfield (perf‑friendly on mobile) ---------- */
    (function(){
      const canvas = document.getElementById('bg-canvas');
      if(!canvas) return;
      const ctx = canvas.getContext('2d', { alpha:true });
      let w=canvas.width=window.innerWidth, h=canvas.height=window.innerHeight;
      let stars=[]; const COUNT = Math.max(80, Math.min(220, Math.floor(window.innerWidth*0.3)));
      const reduce = prefersReduced;

      function reset(){
        w=canvas.width=window.innerWidth; h=canvas.height=window.innerHeight;
        stars = Array.from({length:COUNT}, ()=>({ x: (Math.random()-0.5)*w, y:(Math.random()-0.5)*h, z: Math.random()*w }));
      }
      reset(); window.addEventListener('resize', reset);

      function loop(){
        ctx.clearRect(0,0,w,h);
        ctx.fillStyle = '#0ea5e9';
        for(const s of stars){
          s.z -= 2; if(s.z <= 1){ s.z = w; }
          const k = 128 / s.z;
          const x = w/2 + s.x * k;
          const y = h/2 + s.y * k;
          const size = (1 - s.z/w) * 2;
          ctx.globalAlpha = 0.35 + (1 - s.z/w) * 0.4;
          ctx.fillRect(x, y, size, size);
        }
        if(!reduce) requestAnimationFrame(loop);
      }
      if(!reduce) loop();
    })();

    /* ---------- Resume download ---------- */
    function downloadResume(){
      const content = `DEVAMKUMAR PATEL
QA Engineer (Automation + Manual)
Email: devam2001patel@gmail.com
LinkedIn: linkedin.com/in/devampatel2501

SUMMARY
QA Engineer delivering high-quality software via automation + manual strategy.

SKILLS
• Selenium WebDriver • Core Java • API Testing • TestNG • Manual Testing • SQL

EXPERIENCE
• QA Engineer — Ontic (2025–Present)
• Associate QA Engineer — Antino (2023–Present)
• QA Intern — Antino (2023)

EDUCATION
B.E. CSE — Gujarat Technological University (2020–2024), CGPA 8.5/10`;
      const blob = new Blob([content], {type:'text/plain;charset=utf-8'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'Devamkumar_Patel_Resume.txt'; a.click();
      URL.revokeObjectURL(url);
    }
    $('#resumeBtn')?.addEventListener('click', downloadResume);
    $('#resumeBtn2')?.addEventListener('click', downloadResume);

    /* ---------- Featured projects carousel: arrows + autoplay + swipe ---------- */
    (function(){
      const wrap = document.getElementById('hcWrap');
      const rail = document.getElementById('hcarousel');
      const prev = document.getElementById('hcPrev');
      const next = document.getElementById('hcNext');
      const cards = Array.from(rail.children);
      let index = 0;
      let autoplayId = null;
      const AUTOPLAY_MS = 4500;
      const reduce = prefersReduced;

      function cardWidth(){
        if(!cards.length) return 0;
        const gap = parseFloat(getComputedStyle(rail).columnGap || 18);
        return cards[0].offsetWidth + gap;
      }
      function clampIndex(i){ return (i + cards.length) % cards.length; }
      function scrollToIndex(i){
        index = clampIndex(i);
        rail.scrollTo({ left: index * cardWidth(), behavior:'smooth' });
      }
      function onNext(){ scrollToIndex(index+1); restartAutoplay(); }
      function onPrev(){ scrollToIndex(index-1); restartAutoplay(); }

      next?.addEventListener('click', onNext);
      prev?.addEventListener('click', onPrev);

      let scrollTimer;
      rail.addEventListener('scroll', ()=>{ clearTimeout(scrollTimer);
        scrollTimer = setTimeout(()=>{ index = Math.round(rail.scrollLeft / cardWidth()); }, 120);
      }, {passive:true});

      // Touch swipe assists (for non-scroll snappy browsers)
      let startX=0, startY=0, isMoving=false;
      rail.addEventListener('touchstart', (e)=>{ const t=e.touches[0]; startX=t.clientX; startY=t.clientY; isMoving=true; }, {passive:true});
      rail.addEventListener('touchmove', (e)=>{
        if(!isMoving) return;
        const t = e.touches[0];
        const dx = t.clientX - startX;
        const dy = Math.abs(t.clientY - startY);
        if (Math.abs(dx) > 40 && dy < 40){ (dx < 0 ? onNext() : onPrev()); isMoving=false; }
      }, {passive:true});
      rail.addEventListener('touchend', ()=>{ isMoving=false; }, {passive:true});

      function startAutoplay(){ if(reduce || autoplayId) return; autoplayId = setInterval(()=> scrollToIndex(index+1), AUTOPLAY_MS); }
      function stopAutoplay(){ if(autoplayId){ clearInterval(autoplayId); autoplayId = null; } }
      function restartAutoplay(){ stopAutoplay(); startAutoplay(); }

      wrap.addEventListener('mouseenter', stopAutoplay);
      wrap.addEventListener('mouseleave', startAutoplay);
      rail.addEventListener('focusin', stopAutoplay);
      rail.addEventListener('focusout', startAutoplay);
      document.addEventListener('visibilitychange', ()=>{ document.hidden ? stopAutoplay() : startAutoplay(); });

      window.addEventListener('resize', ()=> scrollToIndex(index));
      startAutoplay();
    })();

    /* ---------- Contact Modal ---------- */
    (function(){
      const openBtn = document.getElementById('contactOpen');
      const modal = document.getElementById('contactModal');
      const panel = modal.querySelector('.drawer-panel');
      const closeBtn = document.getElementById('contactClose');
      const cancelBtn = document.getElementById('contactCancel');
      const form = document.getElementById('contactForm');
      const TO_EMAIL = 'devam2001patel@gmail.com';

      let lastFocus = null;
      const focusSel = 'a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])';

      function open(){
        lastFocus = document.activeElement;
        modal.classList.add('-open');
        modal.setAttribute('aria-hidden','false');
        document.body.style.overflow='hidden';
        setTimeout(()=> panel.querySelector('input, textarea, button')?.focus(), 50);
      }
      function close(){
        modal.classList.remove('-open');
        modal.setAttribute('aria-hidden','true');
        document.body.style.overflow='';
        lastFocus?.focus();
      }

      openBtn?.addEventListener('click', open);
      closeBtn?.addEventListener('click', close);
      cancelBtn?.addEventListener('click', close);
      modal.addEventListener('click', (e)=>{ if(!panel.contains(e.target)) close(); });

      modal.addEventListener('keydown', (e)=>{
        if(e.key === 'Escape'){ e.preventDefault(); close(); }
        if(e.key === 'Tab'){
          const focusables = Array.from(panel.querySelectorAll(focusSel)).filter(el=> el.offsetParent !== null);
          if(!focusables.length) return;
          const first = focusables[0], last = focusables[focusables.length - 1];
          if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
          else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
        }
      });

      form?.addEventListener('submit', (e)=>{
        e.preventDefault();
        if(!form.checkValidity()){ form.reportValidity(); return; }
        const name = form.name.value.trim();
        const email = form.email.value.trim();
        const subject = form.subject.value.trim() || 'Portfolio contact';
        const message = form.message.value.trim();
        const body = `From: ${name} <${email}>\\n\\n${message}`;
        const href = `mailto:${encodeURIComponent(TO_EMAIL)}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
        window.location.href = href;
        close();
      });
    })();

    /* ---------- Misc ---------- */
    $('#year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
